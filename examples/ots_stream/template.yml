ROSTemplateFormatVersion: '2015-09-01'
Transform: 'Aliyun::Serverless-2018-04-03'
Resources:
  otsstream:
    Type: 'Aliyun::Serverless::Service'
    Properties:
      Description: 'Stream trigger for OTS'
    processor:
      Type: 'Aliyun::Serverless::Function'
      Properties:
        Handler: main.index
        Runtime: nodejs8
        CodeUri: './'
      Events:
        OtsTrigger:
          Type: OTS
          Properties:
            Stream: acs:ots:::instance/fc-test1/table/mytable1
  fc-test1:
      Type: 'Aliyun::Serverless::TableStore'
      mytable1:
        Type: 'Aliyun::Serverless::TableStore::Table'
        Properties:
            PrimaryKeyList:
              - Name: uid
                Type: STRING
